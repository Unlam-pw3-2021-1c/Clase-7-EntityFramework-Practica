@model List<WebApplication1.Models.Prendum>
@{
    List<WebApplication1.Models.TipoPrendum> todasTipoPrendas = ViewBag.TodasTipoPrendas;
    int? idTipoPrendaSeleccionada = ViewBag.IdTipoPrendaSeleccionada;
}

<div><a href="/prendas/alta">Crear</a></div>
<form action="/Prendas/index" method="post">
    Tipo Prenda:
    <select name="IdTipoPrenda">
        <option value="">Elija Prenda</option>
        @foreach (var tipo in todasTipoPrendas)
        {
            if (idTipoPrendaSeleccionada.HasValue && idTipoPrendaSeleccionada == tipo.IdTipoPrenda)
            {
                <option value="@tipo.IdTipoPrenda" selected>@tipo.Descripcion</option>
            }
            else
            {
                <option value="@tipo.IdTipoPrenda">@tipo.Descripcion</option>
            }
        }
    </select>
    <input type="submit" value="Filtrar" />
</form>
@if (Model.Count == 0)
{
    <div>No hay prendas</div>
}
else
{
    <table class="table">
        <tr>
            <th>TipoPrenda</th>
            <th>Talle</th>
            <th>Color</th>
            <th>Modelo</th>
            <th>Marca</th>
            <th>Tela</th>
            <th>Temporada</th>
        </tr>
        @foreach (var prenda in Model)
        {
            <tr>
                <td>@prenda.IdTipoPrendaNavigation.Descripcion</td>
                <td>@prenda.Talle</td>
                <td>@prenda.Color</td>
                <td>@prenda.Modelo</td>
                <td>@prenda.Marca</td>
                <td>@prenda.Tela</td>
                <td>@prenda.Temporada</td>
            </tr>
        }
    </table>
}
